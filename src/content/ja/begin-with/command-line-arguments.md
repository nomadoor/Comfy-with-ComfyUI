---
layout: page.njk
lang: ja
section: begin-with
slug: command-line-arguments
navId: command-line-arguments
title: "コマンドライン引数"
summary: "ComfyUIの起動時に指定するオプション"
permalink: "/{{ lang }}/{{ section }}/{{ slug }}/"
hero:
  image: ""
---

## コマンドライン引数とは？

コマンドライン引数とは、プログラム（ここではComfyUIの `main.py`）を実行する際に指定する追加の設定やオプションのことです。

通常の設定画面よりも、VRAMの使い方やネットワーク接続など、よりコアな部分を制御したいときに使用します。

## 設定方法

`python main.py` の後ろに引数を追加して起動します。

```
python main.py --fast
```

ポータブル版では、起動に使っている `.bat` ファイル（例: `run_nvidia_gpu.bat`）を右クリックして編集し、`python.exe` の後に引数を追加することで設定できます。

![command-line-arguments](https://i.gyazo.com/44f113bf9373f5dac0ced2a92e054165.png){gyazo=image}

---


## 引数一覧


### VRAM / メモリ制御 (安定性とパフォーマンス)

VRAM不足によるエラー（OOM）対策や、VRAM容量に応じた動作調整に使います。

|  | 引数名 | 機能 | 備考 |
| :---: | :--- | :--- | :--- |
| 🔥 | `--reserve-vram [GB]` | **VRAM予約:** 使用するVRAMの量をGB単位で設定し、その分をOSや他のアプリのために確保します。 | `--reserve-vram 1.0` の場合、最低1.0GBを残します。 |
| 🔥 | `--disable-smart-memory` | **メモリ管理の強制解除。** モデルをVRAMに保持せず、積極的にRAMにオフロード。 | VRAMが少ない環境で、安定性を優先したい場合に有効。速度は落ちる可能性があります。 |
| | `--lowvram` | VRAM節約モードを有効化。 | UNETを部分的に分割して実行し、VRAM使用量を減らします。VRAMが少ない場合の標準設定です。|
| | `--highvram` | モデルをCPUメモリにアンロードせず、GPUメモリに保持する。 | VRAM容量が大きい環境で、モデル切り替え速度を向上させます。 |
| | `--cpu` | すべての処理をCPUで使用する。 | 非常に遅いため、GPUがない場合の最終手段として使用します。 |
| | `--normalvram` | `lowvram`が自動で有効になった場合でも通常のVRAM使用を強制する。 | |

### 起動 / 接続設定 (利便性とネットワーク)

ブラウザの動作や、LAN内でのComfyUIの共有設定に使います。

|  | 引数名 | 機能 | 備考 |
| :---: | :--- | :--- | :--- |
| 🔥 | `--disable-auto-launch` | **ブラウザの自動起動**を無効化。 | ポータブル版などで自動起動が不要な場合に便利です。 |
| 🔥 | `--output-directory [path]` | **出力先ディレクトリ**を設定。 | 生成画像の保存先を変更したい場合に。 |
| | `--listen` | 外部からの接続許可: リッスンするIPアドレスを指定。 | 引数なし (`--listen`) で `0.0.0.0` (すべてのアドレス) でリッスン。別PCからアクセス可能に。 |
| | `--port [num]` | リッスンポートを設定 (デフォルト: 8188)。 | 既にポートが使用されている場合などに変更します。 |
| | `--extra-model-paths-config [path]` | 1つ以上の `extra_model_paths.yaml` ファイルを読み込む。 | モデルの保存場所を複数管理したい場合に。 |
| | `--auto-launch` | デフォルトのブラウザでComfyUIを自動的に起動する。 | |

### トラブルシューティング (エラー切り分け・デバッグ)

ComfyUIが起動しなくなった場合や、画像が黒くなるなど不具合が出た場合に使います。

|  | 引数名 | 機能 | 備考 |
| :---: | :--- | :--- | :--- |
| 🔥 | `--disable-all-custom-nodes` | **すべてのカスタムノードの読み込みを無効**にする。 | ComfyUIが起動しなくなった際、カスタムノードが原因か切り分けるのに最も有用です。 |
| | `--force-fp32` | FP32 (単精度) を強制する。 | 黒い画像が出るなど、精度問題のトラブルシューティングに。 |
| | `--disable-xformers` | xformers (高速化ライブラリ) を無効にする。 | xformersが原因でエラーが出たり、黒い画像になる場合に切り分けます。 |
| | `--fp16-vae` | VAEを FP16 (半精度) で実行する。 | VAE実行時のVRAMを節約しますが、黒い画像が生成される可能性があります。 |
| | `--cpu-vae` | VAEを CPU で実行する。 | VRAMが極端に少ない場合に、VAE処理をCPUに任せる最終手段です。 |
| | `--disable-metadata` | ファイルにプロンプトメタデータを保存しない。 | 画像ファイルサイズを小さくしたい場合に。 |
| | `--fast` | 未テストの最適化を有効にする。 | 速度テスト用。品質は保証されません。 |

### その他 (応用・開発者向け)

主にVRAM/精度の高度なチューニング、フロントエンドのテストに関するものが含まれます。

|  | 引数名 | 機能 | 備考 |
| :---: | :--- | :--- | :--- |
| | `--cuda-device [ID]` | このインスタンスが使用するCUDAデバイスのIDを設定。 | 複数GPU環境向け。 |
| 🔥 | `--front-end-version [version]` | 新しいUI（フロントエンド）を試すために使用。 | 例: `--front-end-version Comfy-Org/ComfyUI_frontend@latest` |
| | `--temp-directory [path]` | ComfyUIの一時ディレクトリを設定。 | |
| | `--multi-user` | ユーザーごとのストレージを有効にする。 | |
| | `--verbose` | デバッグプリントを増やす。 | 詳細なエラー追跡に。 |
| | `--force-channels-last` | モデルの推論時にチャンネルラスト形式を強制する。 | |
